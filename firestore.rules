rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ——————————————————————————————————
    // Queues (feedback, beatBattle, archive)
    // ——————————————————————————————————
    // Path: /queues/{queueId}/items/{itemId}
    match /queues/{queueId}/items/{itemId} {
      // only authenticated users (admins) may read & write
      allow read, write: if request.auth != null;
    }

    // ——————————————————————————————————
    // Blog posts
    // ——————————————————————————————————
    // Path: /posts/{postId}
    match /posts/{postId} {
      // Anyone (even unauthenticated) can list/view blog posts
      allow read: if true;
      // Only authenticated users may create new posts or delete posts
      allow create, delete: if request.auth != null;
    }

    // (Optional) You can add other collections/rules below…
  }
}
